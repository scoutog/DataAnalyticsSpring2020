}
for(i in 1997:2014){
plot_usmap(data = subset(rates_df, Year == i), values = "Population",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
}
for(i in 1997:2014){
plot_usmap(data = subset(rates_df, Year == i), values = "Population",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
}
x <- 1997
while (x<2015)
{
plot_usmap(data = subset(rates_df, Year == 2004), values = "Population",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
x <- x+1
}
while (x<2015) {
plot_usmap(data = subset(rates_df, Year == 2004), values = "Population",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
x <- x+1
}
View(rates_df)
View(total_df)
jpeg("2004violent.jpg", width = 567, height = 376)
plot_usmap(data = subset(rates_df, Year == 2004), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
jpeg("2004violent.jpg", width = 567, height = 376)
plot_usmap(data = subset(total_df, Year == 2004), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
names(total_df)[names(total_df) == "State"] <- "state"
jpeg("2004violent.jpg", width = 567, height = 376)
plot_usmap(data = subset(total_df, Year == 2004), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Violent Crime in 2004", caption = "Source: FBI UCR")
dev.off()
jpeg("2004violent.jpg", width = 1134, height = 752)
plot_usmap(data = subset(total_df, Year == 2004), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Violent Crime in 2004", caption = "Source: FBI UCR")
dev.off()
jpeg("2004violent.jpg", width = 852, height = 564)
plot_usmap(data = subset(total_df, Year == 2004), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Violent Crime in 2004", caption = "Source: FBI UCR")
dev.off()
x <- "1997violent.jpg"
y <- 1997
z <- "Violent Crime in 1997"
jpeg(x, width = 852, height = 564)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "1998violent.jpg"
y <- 1998
z <- "Violent Crime in 1998"
jpeg(x, width = 852, height = 564)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR") +
theme_grey(base_size = 22)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR") +
theme_grey(base_size = 22)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
x <- "1998violent.jpg"
y <- 1998
z <- "Violent Crime in 1998"
jpeg(x, width = 852, height = 564)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR") +
theme_grey(base_size = 22)
dev.off()
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR") +
theme_grey(base_size = 22) +
xlab() +
ylab()
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR") +
theme(axis.text=element_text(size=12),
axis.title=element_text(size=14,face="bold"))
x <- "1998violent.jpg"
y <- 1998
z <- "Violent Crime in 1998"
jpeg(x, width = 852, height = 564)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR") +
theme(axis.text=element_text(size=12),
axis.title=element_text(size=14,face="bold"))
dev.off()
x <- "1998violent.jpg"
y <- 1998
z <- "Violent Crime in 1998"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "1997violent.jpg"
y <- 1997
z <- "Violent Crime in 1997"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "1998violent.jpg"
y <- 1998
z <- "Violent Crime in 1998"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "1999violent.jpg"
y <- 1999
z <- "Violent Crime in 1999"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2000violent.jpg"
y <- 2000
z <- "Violent Crime in 2000"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2001violent.jpg"
y <- 2001
z <- "Violent Crime in 2001"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2002violent.jpg"
y <- 2002
z <- "Violent Crime in 2002"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2003violent.jpg"
y <- 2003
z <- "Violent Crime in 2003"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2004violent.jpg"
y <- 2004
z <- "Violent Crime in 2004"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2005violent.jpg"
y <- 2005
z <- "Violent Crime in 2005"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2006violent.jpg"
y <- 2006
z <- "Violent Crime in 2006"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2007violent.jpg"
y <- 2007
z <- "Violent Crime in 2007"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2008violent.jpg"
y <- 2008
z <- "Violent Crime in 2008"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2009violent.jpg"
y <- 2009
z <- "Violent Crime in 2009"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2010violent.jpg"
y <- 2010
z <- "Violent Crime in 2010"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2011violent.jpg"
y <- 2011
z <- "Violent Crime in 2011"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2012violent.jpg"
y <- 2012
z <- "Violent Crime in 2012"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2013violent.jpg"
y <- 2013
z <- "Violent Crime in 2013"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2014violent.jpg"
y <- 2014
z <- "Violent Crime in 2014"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2015violent.jpg"
y <- 2015
z <- "Violent Crime in 2015"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
x <- "2016violent.jpg"
y <- 2016
z <- "Violent Crime in 2016"
jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
dev.off()
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
library(tidyverse)
df <- read.csv("crimes_state_time.csv")
df<-df[,-c(7,17)]
rate<-c(1,2,3,13:21)
total<-c(1:12)
rates_df <- df[,rate]
total_df <- df[,total]
all <- c(3:12)
library(BBmisc)
# rates_df[,all] <- sapply(rates_df[all], normalize)
# total_df[,all] <- sapply(total_df[all], normalize)
fips <- read.csv("us-state-ansi-fips.csv")
names(fips)[names(fips) == "stname"] <- "State"
rates_df <- left_join(rates_df, fips, by = "State")
total_df <- left_join(total_df, fips, by = "State")
rates2010 <- subset(rates_df, Year == 2010)
names(rates2010)[names(rates2010) == "State"] <- "state"
names(rates_df)[names(rates_df) == "State"] <- "state"
names(total_df)[names(total_df) == "State"] <- "state"
##########
library(gtrendsR)
library(usmap)
orange <- "#0C95BC"
plot_usmap(data = rates2010, values = "Population",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "Population in 2010", caption = "Source: FBI UCR")
plot_usmap(data = rates2010, values = "Population", include =  c(.south_atlantic, .mid_atlantic, .new_england ), color = orange, labels=TRUE) +
scale_fill_continuous( low = "white", high = orange,
name = "Popularity", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = "US East Coast Population", caption = "Source: FBI UCR")
########################################
########################################
########################################
summary(rates_df$Year)
View(total_df)
x <- "2016violent.jpg"
y <- 2016
z <- "Violent Crime in 2016"
#jpeg(x, width = 568, height = 376)
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
#dev.off()
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
plot_usmap(data = subset(total_df, Year == y), values = "Violent.crime.total",  color = orange, labels=FALSE) +
scale_fill_continuous( low = "white", high = orange,
name = "Violent Crime", label = scales::comma
) +
theme(legend.position = "right") +
theme(panel.background = element_rect(colour = "black")) +
labs(title = z, caption = "Source: FBI UCR")
editor_options:
chunk_output_type: console
editor_options:
chunk_output_type: console
chunk_output_type: console
